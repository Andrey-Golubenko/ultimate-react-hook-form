import{m as k,j as i,r as g,n as q,o as U,s as W,T as I,p as X,F as Y,P as D,I as $,q as H}from"./vendor-b73bc09a.js";import{Y as z,u as Z,o as J,C as K,c as Q}from"./validatingSchemas-8376331d.js";import{T as ee}from"./TextInput-a760aa73.js";import{t as F,u as O}from"./index-06633898.js";import{N as te}from"./NavButtons-f5941790.js";import"./get-video-id.esm-6ba5b9cc.js";const ne=k(i.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),se=k(i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),re=k(i.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),oe=k(i.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");function S(s){if(typeof window>"u")return s;const n=g.useRef(null);return g.useLayoutEffect(()=>{n.current=s}),g.useCallback((...r)=>{var c;(c=n.current)===null||c===void 0||c.call(n,...r)},[])}const L={};function ie(s,n){L[s]||(L[s]=!0,console.error("[material-ui-popup-state] WARNING",n))}const ue={isOpen:!1,setAnchorElUsed:!1,anchorEl:void 0,anchorPosition:void 0,hovered:!1,focused:!1,_openEventType:null,_childPopupState:null,_deferNextOpen:!1,_deferNextClose:!1};function ae({parentPopupState:s,popupId:n,variant:r,disableAutoFocus:c}){const _=g.useRef(!0);g.useEffect(()=>(_.current=!0,()=>{_.current=!1}),[]);const[h,f]=g.useState(ue),p=g.useCallback(t=>{_.current&&f(t)},[]),C=g.useCallback(t=>p(e=>({...e,setAnchorElUsed:!0,anchorEl:t??void 0})),[]),b=S(t=>(h.isOpen?j(t):w(t),h)),w=S(t=>{const e=t instanceof Element?void 0:t,a=t instanceof Element?t:(t==null?void 0:t.currentTarget)instanceof Element?t.currentTarget:void 0;if((e==null?void 0:e.type)==="touchstart"){p(l=>({...l,_deferNextOpen:!0}));return}const d=e==null?void 0:e.clientX,x=e==null?void 0:e.clientY,y=typeof d=="number"&&typeof x=="number"?{left:d,top:x}:void 0,P=l=>{if(!t&&!l.setAnchorElUsed&&r!=="dialog"&&ie("missingEventOrAnchorEl","eventOrAnchorEl should be defined if setAnchorEl is not used"),s){if(!s.isOpen)return l;setTimeout(()=>s._setChildPopupState(v))}const N={...l,isOpen:!0,anchorPosition:y,hovered:(e==null?void 0:e.type)==="mouseover"||l.hovered,focused:(e==null?void 0:e.type)==="focus"||l.focused,_openEventType:e==null?void 0:e.type};return e!=null&&e.currentTarget?l.setAnchorElUsed||(N.anchorEl=e==null?void 0:e.currentTarget):a&&(N.anchorEl=a),N};p(l=>l._deferNextOpen?(setTimeout(()=>p(P),0),{...l,_deferNextOpen:!1}):P(l))}),E=t=>{const{_childPopupState:e}=t;return setTimeout(()=>{e==null||e.close(),s==null||s._setChildPopupState(null)}),{...t,isOpen:!1,hovered:!1,focused:!1}},j=S(t=>{const e=t instanceof Element?void 0:t;if((e==null?void 0:e.type)==="touchstart"){p(a=>({...a,_deferNextClose:!0}));return}p(a=>a._deferNextClose?(setTimeout(()=>p(E),0),{...a,_deferNextClose:!1}):E(a))}),T=g.useCallback((t,e)=>{t?w(e):j(e)},[]),u=S(t=>{const{relatedTarget:e}=t;p(a=>a.hovered&&!(e instanceof Element&&R(e,v))?a.focused?{...a,hovered:!1}:E(a):a)}),o=S(t=>{if(!t)return;const{relatedTarget:e}=t;p(a=>a.focused&&!(e instanceof Element&&R(e,v))?a.hovered?{...a,focused:!1}:E(a):a)}),m=g.useCallback(t=>p(e=>({...e,_childPopupState:t})),[]),v={...h,setAnchorEl:C,popupId:n,variant:r,open:w,close:j,toggle:b,setOpen:T,onBlur:o,onMouseLeave:u,disableAutoFocus:c??!!(h.hovered||h.focused),_setChildPopupState:m};return v}function le({isOpen:s,popupId:n,variant:r}){return{...r==="popover"?{"aria-haspopup":!0,"aria-controls":s&&n!=null?n:void 0}:r==="popper"?{"aria-describedby":s&&n!=null?n:void 0}:void 0}}function ce(s){const{open:n,onBlur:r}=s;return{...le(s),onFocus:n,onBlur:r}}function de({isOpen:s,anchorEl:n,popupId:r,onMouseLeave:c}){return{id:r,anchorEl:n,open:s,onMouseLeave:c}}function fe(s,{popupId:n}){if(!n)return null;const r=typeof s.getRootNode=="function"?s.getRootNode():document;return typeof r.getElementById=="function"?r.getElementById(n):null}function R(s,n){const{anchorEl:r,_childPopupState:c}=n;return M(r,s)||M(fe(s,n),s)||c!=null&&R(s,c)}function M(s,n){if(!s)return!1;for(;n;){if(n===s)return!0;n=n.parentElement}return!1}var G={exports:{}};(function(s){(function(n){if(typeof r!="function"){var r=function(u){return u};r.nonNative=!0}const c=r("plaintext"),_=r("html"),h=r("comment"),f=/<(\w*)>/g,p=/<\/?([^\s\/>]+)/;function C(u,o,m){u=u||"",o=o||[],m=m||"";let v=w(o,m);return E(u,v)}function b(u,o){u=u||[],o=o||"";let m=w(u,o);return function(t){return E(t||"",m)}}C.init_streaming_mode=b;function w(u,o){return u=j(u),{allowable_tags:u,tag_replacement:o,state:c,tag_buffer:"",depth:0,in_quote_char:""}}function E(u,o){if(typeof u!="string")throw new TypeError("'html' parameter must be a string");let m=o.allowable_tags,v=o.tag_replacement,t=o.state,e=o.tag_buffer,a=o.depth,d=o.in_quote_char,x="";for(let y=0,P=u.length;y<P;y++){let l=u[y];if(t===c)switch(l){case"<":t=_,e+=l;break;default:x+=l;break}else if(t===_)switch(l){case"<":if(d)break;a++;break;case">":if(d)break;if(a){a--;break}d="",t=c,e+=">",m.has(T(e))?x+=e:x+=v,e="";break;case'"':case"'":l===d?d="":d=d||l,e+=l;break;case"-":e==="<!-"&&(t=h),e+=l;break;case" ":case`
`:if(e==="<"){t=c,x+="< ",e="";break}e+=l;break;default:e+=l;break}else if(t===h)switch(l){case">":e.slice(-2)=="--"&&(t=c),e="";break;default:e+=l;break}}return o.state=t,o.tag_buffer=e,o.depth=a,o.in_quote_char=d,x}function j(u){let o=new Set;if(typeof u=="string"){let m;for(;m=f.exec(u);)o.add(m[1])}else!r.nonNative&&typeof u[r.iterator]=="function"?o=new Set(u):typeof u.forEach=="function"&&u.forEach(o.add,o);return o}function T(u){let o=p.exec(u);return o?o[1].toLowerCase():null}s.exports?s.exports=C:n.striptags=C})(q)})(G);var pe=G.exports;const A=U(pe),B=({valid:s})=>s?i.jsx(se,{sx:{color:F.palette.success.main,marginRight:1,fontSize:"medium"}}):i.jsx(ne,{sx:{color:F.palette.error.main,marginRight:1,fontSize:"medium"}}),me=({popupState:s,passwordValue:n})=>{const r=W(I)(()=>({display:"flex",alignItems:"center",fontSize:"1.14rem",fontWeight:400,paddingLeft:".5rem",marginBottom:.8}));return i.jsx(X,{...de(s),transition:!0,placement:"left-start",popperOptions:{modifiers:[{name:"offset",options:{offset:[5,10]}}]},sx:{zIndex:"15"},children:({TransitionProps:c})=>i.jsx(Y,{...c,timeout:400,children:i.jsxs(D,{elevation:2,sx:{padding:2.5},children:[i.jsx(I,{component:"p",sx:{fontSize:"1.3rem",fontWeight:500,marginBottom:1.5},children:"Your password must have:"}),i.jsxs(r,{children:[i.jsx(B,{valid:!!n&&z.string().min(5).isValidSync(n)}),"5 or more characters"]}),i.jsxs(r,{children:[i.jsx(B,{valid:!!n&&z.string().minLowercase(1).minUppercase(1).isValidSync(n)}),"At least one upper and lowercase letters"]}),i.jsxs(r,{children:[i.jsx(B,{valid:!!n&&z.string().minNumbers(1).isValidSync(n)}),"At least one number"]})]})})})},V=({register:s,name:n,id:r,label:c,error:_,helperText:h,showValidation:f})=>{const{formData:p,setFormValue:C}=O(),[b,w]=g.useState(""),[E,j]=g.useState(!1),T=ae({variant:"popper",popupId:"passwordValidation",disableAutoFocus:!1}),{onBlur:u,...o}=ce(T),{onBlur:m,...v}=s(n),t=d=>{const x=A(d.target.value);w(x)},e=d=>{const x=A(d.target.value);C({[n]:x}),m(d),f&&u(d)},a=b||(p==null?void 0:p[n]);return i.jsxs(i.Fragment,{children:[i.jsx(ee,{...v,...f?o:null,onBlur:e,onInput:d=>t(d),name:n,id:r,type:E?"text":"password",label:c,error:_,helperText:h,InputProps:{endAdornment:i.jsx($,{position:"end",children:i.jsx(H,{edge:"end","aria-label":"toggle password visibility",onClick:()=>j(d=>!d),children:E?i.jsx(re,{}):i.jsx(oe,{})})})}}),f&&i.jsx(me,{popupState:T,passwordValue:a})]})},we=g.forwardRef(({saveData:s},n)=>{var C,b;const{formData:r,setFormValue:c}=O(),{handleSubmit:_,register:h,formState:{errors:f}}=Z({defaultValues:{password:r==null?void 0:r.password,passwordConfirmation:r.passwordConfirmation},mode:"onBlur",resolver:J(Q)}),p=s||(w=>{c({...w,isDataReceived:!0})});return i.jsxs(i.Fragment,{children:[i.jsx(I,{variant:"h5",children:"Enter your password"}),i.jsxs(K,{onSubmit:_(p),children:[i.jsx(V,{register:h,name:"password",id:"password",label:"Password",error:!!(f!=null&&f.password),helperText:(C=f==null?void 0:f.password)==null?void 0:C.message,showValidation:!0}),i.jsx(V,{register:h,name:"passwordConfirmation",id:"passwordConfirmation",label:"Password confirmation",error:!!(f!=null&&f.passwordConfirmation),helperText:(b=f==null?void 0:f.passwordConfirmation)==null?void 0:b.message}),i.jsx(te,{ref:n})]})]})});export{we as default};
