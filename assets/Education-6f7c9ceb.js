import{r as F,j as n,T as C,P as k,S as l,B as v,D as I}from"./vendor-b73bc09a.js";import{u as R,o as P,a as A,C as N,s as V}from"./validatingSchemas-6e10f822.js";import{d as b}from"./get-video-id.esm-ee48ed72.js";import{D as E}from"./DatePickerInput-5c2630a3.js";import{T as D}from"./TextInput-a760aa73.js";import{N as W}from"./NavButtons-61a02c9b.js";import{u as L}from"./index-2d71006d.js";const O=F.forwardRef(({saveData:w},B)=>{const{formData:i,setFormValue:u}=L(),{register:d,handleSubmit:S,control:c,formState:{errors:a}}=R({mode:"onBlur",defaultValues:i!=null&&i.education?{education:i==null?void 0:i.education}:{education:[{id:1,start:null,end:null,specialty:"",educational_institution:""}]},resolver:P(V)}),{fields:m,append:$,remove:T}=A({name:"education",control:c}),_=w||(o=>{var t;if(o!=null&&o.education){const s=o==null?void 0:o.education[0];if(s!=null&&s.start){const r=(t=o==null?void 0:o.education)==null?void 0:t.map(e=>({...e,start:e!=null&&e.start?b(e==null?void 0:e.start):null,end:e!=null&&e.end?b(e==null?void 0:e.end):null}));u({...o,education:r,isDataReceived:!0})}else u({...o,education:void 0,isDataReceived:!0})}});return n.jsxs(n.Fragment,{children:[n.jsx(C,{variant:"h5",marginBottom:"1.5rem",children:"Enter your education"}),n.jsxs(N,{onSubmit:S(_),children:[m.map((o,t)=>{var s,r,e,p,f,h,g,y,j,x;return n.jsxs(k,{variant:"outlined",component:"div",sx:{display:"flex",flexDirection:"column",alignItems:"center",padding:"2rem",marginBottom:"1rem"},children:[n.jsxs(l,{width:"100%",flexDirection:"row",justifyContent:"space-between",marginBottom:"1rem",children:[n.jsx(E,{name:`education.${t}.start`,label:"Date of start",control:c,views:["month","year"],locale:"de",large:!0}),n.jsx(E,{name:`education.${t}.end`,label:"Date of graduation",control:c,views:["month","year"],locale:"de",large:!0})]}),n.jsxs(l,{alignItems:"center",width:"100%",marginBottom:"1.5rem",children:[n.jsx(D,{...d(`education.${t}.specialty`),id:`education.${t}.specialty`,name:`education.${t}.specialty`,label:"Specialty",type:"text",percentageWidth:"80%",error:!!((r=(s=a==null?void 0:a.education)==null?void 0:s[t])!=null&&r.specialty),helperText:(f=(p=(e=a==null?void 0:a.education)==null?void 0:e[t])==null?void 0:p.specialty)==null?void 0:f.message}),n.jsx(D,{...d(`education.${t}.educational_institution`),id:`education.${t}.educational_institution`,name:`education.${t}.educational_institution`,label:"Educational institution",type:"text",percentageWidth:"80%",error:!!((g=(h=a==null?void 0:a.education)==null?void 0:h[t])!=null&&g.educational_institution),helperText:(x=(j=(y=a==null?void 0:a.education)==null?void 0:y[t])==null?void 0:j.educational_institution)==null?void 0:x.message})]}),t>0&&n.jsx(v,{sx:{alignSelf:"flex-end"},variant:"contained",type:"button",color:"error",onClick:()=>T(t),children:"DELETE"})]},o.id)}),n.jsx(l,{margin:"3rem 2rem 3rem 0",children:n.jsx(v,{variant:"contained",type:"button",color:"info",sx:{marginLeft:"auto"},onClick:()=>$({id:m.length+1,start:null,end:null,specialty:"",educational_institution:""}),children:"Add new education"})}),n.jsx(I,{variant:"middle"}),n.jsx(W,{ref:B})]})]})});export{O as default};
