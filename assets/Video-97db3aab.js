import{r,j as e,S as f,T as h}from"./vendor-b73bc09a.js";import{u as V,o as j,C as b,b as g}from"./validatingSchemas-8376331d.js";import{g as S}from"./get-video-id.esm-6ba5b9cc.js";import{E as v}from"./EmbeddedVideo-e24cec7b.js";import{T as I}from"./TextInput-a760aa73.js";import{N as w}from"./NavButtons-f5941790.js";import{u as F}from"./index-06633898.js";const C=({name:o,label:u,id:s,register:a,watch:d,validatErrors:t})=>{const m=d(o),[i,c]=r.useState(null),[n,p]=r.useState(m);r.useEffect(()=>{if(n){const{id:l}=S(n);c(l)}},[n]);const x=l=>p(()=>l.target.value);return e.jsxs(f,{children:[e.jsx(I,{...a(o),name:o,label:u,id:s,error:!!t,helperText:t==null?void 0:t.message,onChange:x}),e.jsx(v,{tabIndex:-1,src:`https://www.youtube.com/embed/${i}`,allowFullScreen:!0})]})},N=r.forwardRef(({saveData:o},u)=>{const{formData:s,setFormValue:a}=F(),{handleSubmit:d,register:t,watch:m,formState:{errors:i}}=V({mode:"onBlur",defaultValues:{video:s==null?void 0:s.video},resolver:j(g)}),c=o||(n=>{a({...n,isDataReceived:!0})});return e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"h5",children:"Enter your video link"}),e.jsxs(b,{onSubmit:d(c),children:[e.jsx(C,{register:t,id:"video",name:"video",label:"Video",validatErrors:i==null?void 0:i.video,watch:m}),e.jsx(w,{ref:u})]})]})});export{N as default};
